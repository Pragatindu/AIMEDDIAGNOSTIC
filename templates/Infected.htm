<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>AI Disease Diagnosis</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background: #fff0f0;
      font-family: 'Segoe UI', sans-serif;
    }
    .card {
      box-shadow: 0 0 15px rgba(255, 0, 0, 0.2);
      border-radius: 16px;
      margin-bottom: 30px;
    }
    .section-title {
      font-size: 1.5rem;
      font-weight: 600;
      color: #dc3545;
      margin-bottom: 15px;
    }
    .hospital-list li,
    .doctor-list li {
      padding: 8px;
      border-bottom: 1px solid #f0caca;
    }
    .doctor-contact a {
      color: #007bff;
      text-decoration: none;
    }
    @media (min-width: 768px) {
      .full-height {
        height: 100vh;
      }
    }
    #map {
      height: 400px;
      margin-top: 20px;
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <div class="container-fluid p-4">
    <div class="row">

      <!-- Left Panel -->
      <div class="col-lg-6 mb-4">
        <div class="card p-4">
          <h4 class="section-title text-center">ü©∫ Potential Disease Detected</h4>
          <h5 id="disease-title" class="text-danger text-center">Loading...</h5>
          <p><strong>About the disease:</strong></p>
          <p id="disease-description">Fetching description...</p>

          <hr>
          <p><strong>Precaution and Preventive Measures:</strong></p>
          <p id="precaution-description">Fetching precautions...</p>

          <div class="text-center mt-3">
            <a href="/" class="btn btn-outline-danger">Return to Home</a>
          </div>
        </div>
      </div>

      <!-- Right Panel -->
      <div class="col-lg-6">
        <div class="card p-4">
          <h4 class="section-title text-center">üè• Nearby Hospitals</h4>
          <ul class="hospital-list list-unstyled">
            <li><strong>Apollo Hospital</strong>, Main St, Delhi</li>
            <li><strong>Max Super Specialty</strong>, Sector 5, Noida</li>
            <li><strong>AIIMS</strong>, South Campus, Delhi</li>
          </ul>
        </div>

        <div class="card p-4 mt-4">
          <h4 class="section-title text-center">üë®‚Äç‚öïÔ∏è Recommended Doctors</h4>
          <ul class="doctor-list list-unstyled">
            <li class="doctor-contact">
              <strong>Dr. Ramesh Gupta</strong> - Cardiologist<br>
              üìû +91-9876543210 |
              <a href="https://www.google.com/search?q=Dr.+Ramesh+Gupta+Cardiologist" target="_blank">View on Google</a>
            </li>
            <li class="doctor-contact">
              <strong>Dr. Neha Sharma</strong> - General Physician<br>
              üìû +91-9123456789 |
              <a href="https://www.google.com/search?q=Dr.+Neha+Sharma+General+Physician" target="_blank">View on Google</a>
            </li>
            <li class="doctor-contact">
              <strong>Dr. Arjun Mehta</strong> - Pediatrician<br>
              üìû +91-9988776655 |
              <a href="https://www.google.com/search?q=Dr.+Arjun+Mehta+Pediatrician" target="_blank">View on Google</a>
            </li>
          </ul>
        </div>
        
        <div class="card p-4 mt-4">
          <h4 class="section-title text-center">üìç Search Location</h4>
          <input id="search-box" class="form-control" type="text" placeholder="Enter location..." />
          <div id="map"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- JavaScript -->
  <script>
    const disease = "{{ disease }}";
    document.getElementById("disease-title").innerText = disease;

    const precautionMap = {
  "Dengue": 
    "‚Ä¢ Drink plenty of fluids\n" +
    "‚Ä¢ Avoid mosquito bites\n" +
    "‚Ä¢ Use mosquito nets\n" +
    "‚Ä¢ Rest",

  "Malaria": 
    "‚Ä¢ Sleep under insecticide-treated nets\n" +
    "‚Ä¢ Use repellents\n" +
    "‚Ä¢ Avoid mosquito-prone areas",

  "Covid-19": 
    "‚Ä¢ Wear a mask\n" +
    "‚Ä¢ Maintain social distancing\n" +
    "‚Ä¢ Wash hands\n" +
    "‚Ä¢ Avoid crowded places",

  "Typhoid": 
    "‚Ä¢ Drink safe water\n" +
    "‚Ä¢ Eat hygienic food\n" +
    "‚Ä¢ Complete antibiotics course as prescribed",

  "Tuberculosis": 
    "‚Ä¢ Take full course of medication\n" +
    "‚Ä¢ Avoid public spitting\n" +
    "‚Ä¢ Wear a mask\n" +
    "‚Ä¢ Maintain hygiene",

  "Asthma": 
    "‚Ä¢ Avoid allergens\n" +
    "‚Ä¢ Use inhalers regularly\n" +
    "‚Ä¢ Keep environment dust-free",

  "Hypertension": 
    "‚Ä¢ Reduce salt intake\n" +
    "‚Ä¢ Exercise regularly\n" +
    "‚Ä¢ Monitor blood pressure\n" +
    "‚Ä¢ Take medication",

  "Diabetes": 
    "‚Ä¢ Control diet\n" +
    "‚Ä¢ Exercise regularly\n" +
    "‚Ä¢ Monitor blood sugar\n" +
    "‚Ä¢ Take insulin if needed",

  "Heart_Disease": 
    "‚Ä¢ Avoid smoking\n" +
    "‚Ä¢ Eat a balanced diet\n" +
    "‚Ä¢ Exercise\n" +
    "‚Ä¢ Manage stress\n" +
    "‚Ä¢ Take medication",

  "Jaundice": 
    "‚Ä¢ Take rest\n" +
    "‚Ä¢ Maintain hydration\n" +
    "‚Ä¢ Avoid alcohol and oily food\n" +
    "‚Ä¢ Consult doctor",

  
  

  // Extended symptoms and basic precautionary guidance
  "Heart_Attack": 
    "‚Ä¢ Call emergency services immediately\n" +
    "‚Ä¢ Take prescribed heart medications\n" +
    "‚Ä¢ Avoid strenuous activity\n" +
    "‚Ä¢ Stay calm and seated\n" +
    "‚Ä¢ Follow a heart-healthy diet\n" +
    "‚Ä¢ Quit smoking and limit alcohol",

  "Hypertension": 
    "‚Ä¢ Reduce salt intake\n" +
    "‚Ä¢ Exercise regularly\n" +
    "‚Ä¢ Monitor blood pressure\n" +
    "‚Ä¢ Take medication as prescribed\n" +
    "‚Ä¢ Manage stress through relaxation techniques",

  "Migraine": 
    "‚Ä¢ Avoid trigger foods\n" +
    "‚Ä¢ Get adequate sleep\n" +
    "‚Ä¢ Stay hydrated\n" +
    "‚Ä¢ Use prescribed medications\n" +
    "‚Ä¢ Avoid loud noises and bright lights",

  "Cervical_spondylosis": 
    "‚Ä¢ Maintain good posture\n" +
    "‚Ä¢ Avoid lifting heavy weights\n" +
    "‚Ä¢ Do neck strengthening exercises\n" +
    "‚Ä¢ Use a supportive pillow\n" +
    "‚Ä¢ Apply hot or cold compress",

  "Paralysis": 
    "‚Ä¢ Follow physiotherapy exercises\n" +
    "‚Ä¢ Use mobility aids if required\n" +
    "‚Ä¢ Avoid injuries to affected limbs\n" +
    "‚Ä¢ Maintain skin hygiene\n" +
    "‚Ä¢ Follow medical advice regularly",

  "Drug_Reaction": 
    "‚Ä¢ Stop the medication immediately\n" +
    "‚Ä¢ Consult a doctor\n" +
    "‚Ä¢ Avoid self-medication\n" +
    "‚Ä¢ Keep a record of allergies\n" +
    "‚Ä¢ Carry allergy medications if prescribed",

  "Alcoholic_hepatitis": 
    "‚Ä¢ Avoid alcohol completely\n" +
    "‚Ä¢ Eat a balanced diet\n" +
    "‚Ä¢ Stay hydrated\n" +
    "‚Ä¢ Take prescribed medications\n" +
    "‚Ä¢ Get regular liver function tests\n" +
    "‚Ä¢ Avoid over-the-counter medications that harm the liver\n" +
    "‚Ä¢ Consult a doctor regularly",

  "Pneumonia": 
    "‚Ä¢ Take full course of antibiotics\n" +
    "‚Ä¢ Rest and avoid physical exertion\n" +
    "‚Ä¢ Stay hydrated\n" +
    "‚Ä¢ Use a humidifier\n" +
    "‚Ä¢ Avoid smoking",

  "Dimorphic_hemmorhoids": 
    "‚Ä¢ Eat high-fiber foods\n" +
    "‚Ä¢ Drink plenty of water\n" +
    "‚Ä¢ Avoid straining during bowel movements\n" +
    "‚Ä¢ Maintain anal hygiene\n" +
    "‚Ä¢ Use doctor-prescribed ointments or treatments"
};


    document.getElementById("precaution-description").innerText =
      precautionMap[disease] || "No specific precautions found. Please consult a doctor.";

    // Fetch Wikipedia summary
    fetch(`https://en.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(disease)}`)
      .then(response => response.json())
      .then(data => {
        document.getElementById("disease-description").innerText = data.extract || "No description available.";
      })
      .catch(() => {
        document.getElementById("disease-description").innerText = "Failed to load disease description.";
      });

    // Google Maps setup
    let map, geocoder, markers = [];
    function initMap() {
      geocoder = new google.maps.Geocoder();
      map = new google.maps.Map(document.getElementById("map"), {
        center: { lat: 28.6139, lng: 77.2090 },
        zoom: 12,
      });

      const input = document.getElementById("search-box");
      const searchBox = new google.maps.places.SearchBox(input);
      map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);

      searchBox.addListener("places_changed", () => {
        const places = searchBox.getPlaces();
        if (places.length === 0) return;

        markers.forEach((marker) => marker.setMap(null));
        markers = [];

        const bounds = new google.maps.LatLngBounds();
        places.forEach((place) => {
          if (!place.geometry) return;
          const marker = new google.maps.Marker({
            map,
            title: place.name,
            position: place.geometry.location,
          });
          markers.push(marker);

          if (place.geometry.viewport) {
            bounds.union(place.geometry.viewport);
          } else {
            bounds.extend(place.geometry.location);
          }
        });
        map.fitBounds(bounds);
      });
    }
  </script>

  <!-- Google Maps API -->
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAml4ZB_0O4Nb0xjl5iMW3luC2gilR1UO0&libraries=places&callback=initMap" async defer></script>
</body>
</html>
